import{_ as D}from"./Config-B9dyQUOB.js";import{d as w,r as u,c as m,e,w as a,O as I,a as _,aH as N,b as t,G as $,B as s,aO as b,l as z,k as f,az as k,aP as q,aG as G,a1 as O,ap as R,aQ as T}from"./index-CCtaBiha.js";/* empty css                   *//* empty css                  *//* empty css                    */import{_ as A}from"./Title-DHKUISOf.js";/* empty css                        *//* empty css                    *//* empty css               *//* empty css                   */const H={class:"common-main"},L=t("div",{class:"el-upload__text"},[f(" Drop file here or "),t("em",null,"click to upload")],-1),Q=t("div",{class:"el-upload__tip"}," jpg/png files with a size less than 500kb ",-1),S=t("div",{class:"el-upload__tip text-red"}," limit 1 file, new file will cover the old file ",-1),X=["src"],J={class:"el-upload-list__item-actions"},K=["onClick"],M=["onClick"],W=["onClick"],Y=["src"],Z=w({name:"Upload"}),re=w({...Z,setup(ee){const c=u(),F=l=>{c.value.clearFiles();const n=l[0];n.uid=T(),c.value.handleStart(n)},C=()=>{c.value.submit()},y=u(""),r=u(!1),v=u(!1),x=l=>{console.log(l)},U=l=>{y.value=l.url,r.value=!0},V=l=>{console.log(l)},j=[{name:"action",declare:"请求 URL",type:"string",default:"'#'",required:!0},{name:"headers",declare:"设置上传的请求头部",type:"object",default:"—"},{name:"method",declare:"设置上传请求方法",type:"string",default:"'post'"},{name:"multiple",declare:"是否支持多选文件",type:"boolean",default:"false"},{name:"data",declare:"上传时附带的额外参数（从 v2.3.13 支持 Awaitable 数据，和 Function）",type:"object / Function",default:"{}"},{name:"name",declare:"上传的文件字段名",type:"string",default:"'file'"},{name:"with-credentials",declare:"支持发送 cookie 凭证信息",type:"boolean",default:"false"},{name:"show-file-list",declare:"是否显示已上传文件列表",type:"boolean",default:"true"},{name:"drag",declare:"是否启用拖拽上传",type:"boolean",default:"false"},{name:"accept",declare:"接受上传的文件类型（thumbnail-mode 模式下此参数无效）",type:"string",default:"''"},{name:"crossorigin",declare:"原生属性 crossorigin",type:"enum",default:"—",options:["anonymous","use-credentials"]},{name:"on-preview",declare:"点击文件列表中已上传的文件时的钩子",type:"Function",default:"—"},{name:"on-remove",declare:"文件列表移除文件时的钩子",type:"Function",default:"—"},{name:"on-success",declare:"文件上传成功时的钩子",type:"Function",default:"—"},{name:"on-error",declare:"文件上传失败时的钩子",type:"Function",default:"—"},{name:"on-progress",declare:"文件上传时的钩子",type:"Function",default:"—"},{name:"on-change",declare:"文件状态改变时的钩子，添加文件、上传成功和上传失败时都会被调用",type:"Function",default:"—"},{name:"on-exceed",declare:"当超出限制时，执行的钩子函数",type:"Function",default:"—"},{name:"before-upload",declare:"上传文件之前的钩子，参数为上传的文件，若返回false或者返回 Promise 且被 reject，则停止上传",type:"Function",default:"—"},{name:"before-remove",declare:"删除文件之前的钩子，参数为上传的文件和文件列表，若返回 false 或者返回 Promise 且被 reject，则停止删除",type:"Function",default:"—"},{name:"file-list / v-model:file-list",declare:"默认上传文件",type:"object",default:"[]"},{name:"list-type",declare:"文件列表的类型",type:"enum",default:"'text'",options:["text","picture","picture-card"]},{name:"auto-upload",declare:"是否自动上传文件",type:"boolean",default:"true"},{name:"http-request",declare:"覆盖默认的 Xhr 行为，允许自行实现上传文件的请求",type:"Function",default:"参考ajaxUpload"},{name:"disabled",declare:"是否禁用上传",type:"boolean",default:"false"},{name:"limit",declare:"允许上传文件的最大数量",type:"number",default:"—"}];return(l,n)=>{const E=A,d=$,p=N,i=I,h=z,P=R,B=D;return _(),m("div",H,[e(i,null,{default:a(()=>[e(E,{title:"Upload 上传"}),e(p,{class:"upload-demo",drag:"",action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15",multiple:""},{tip:a(()=>[Q]),default:a(()=>[e(d,{class:"el-icon--upload"},{default:a(()=>[e(s(b))]),_:1}),L]),_:1})]),_:1}),e(i,null,{default:a(()=>[e(p,{ref_key:"upload",ref:c,class:"upload-demo",action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15",limit:1,"on-exceed":F,"auto-upload":!1},{trigger:a(()=>[e(h,{type:"primary"},{default:a(()=>[f("select file")]),_:1})]),tip:a(()=>[S]),default:a(()=>[e(h,{class:"ml-3",type:"success",onClick:C},{default:a(()=>[f(" upload to server ")]),_:1})]),_:1},512)]),_:1}),e(i,null,{default:a(()=>[e(p,{action:"#","list-type":"picture-card","auto-upload":!1},{file:a(({file:o})=>[t("div",null,[t("img",{class:"el-upload-list__item-thumbnail",src:o.url,alt:""},null,8,X),t("span",J,[t("span",{class:"el-upload-list__item-preview",onClick:g=>U(o)},[e(d,null,{default:a(()=>[e(s(q))]),_:1})],8,K),v.value?k("",!0):(_(),m("span",{key:0,class:"el-upload-list__item-delete",onClick:g=>V(o)},[e(d,null,{default:a(()=>[e(s(G))]),_:1})],8,M)),v.value?k("",!0):(_(),m("span",{key:1,class:"el-upload-list__item-delete",onClick:g=>x(o)},[e(d,null,{default:a(()=>[e(s(O))]),_:1})],8,W))])])]),default:a(()=>[e(d,null,{default:a(()=>[e(s(b))]),_:1})]),_:1}),e(P,{modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=o=>r.value=o)},{default:a(()=>[t("img",{src:y.value,alt:"Preview Image"},null,8,Y)]),_:1},8,["modelValue"])]),_:1}),e(i,null,{default:a(()=>[e(B,{tableData:j})]),_:1})])}}});export{re as default};
